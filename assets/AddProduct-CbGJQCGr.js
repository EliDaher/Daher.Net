import{r as s,j as e,D,w as r,M as F}from"./index-Cy6ykWzc.js";function k(){const[o,m]=s.useState(""),[n,i]=s.useState(0),[d,p]=s.useState(""),[x,g]=s.useState(0),[h,b]=s.useState(""),[c,l]=s.useState(null),[y,j]=s.useState(!1),[u,v]=s.useState(""),C=async t=>{var N,S;if(t.preventDefault(),l(null),!o||!n||!u){l({type:"error",text:"الرجاء تعبئة الاسم والسعر وإضافة رابط الصورة."});return}const P={name:o,price:n,category:d,description:h,imageUrl:u,stock:x};try{j(!0);const f=await F.post("https://paynet-1.onrender.com/api/product/add",P);l({type:"success",text:"تم رفع المنتج بنجاح!"}),m(""),i(0),p(""),b(""),v(""),g(0)}catch(a){console.error(a);const f=((S=(N=a==null?void 0:a.response)==null?void 0:N.data)==null?void 0:S.message)||a.message||"حصل خطأ أثناء الرفع";l({type:"error",text:f})}finally{j(!1)}};return e.jsx(D,{children:e.jsx("div",{children:e.jsxs("form",{action:"",onSubmit:C,className:"flex flex-col",children:[e.jsxs("label",{htmlFor:"",children:["Product Name:",e.jsx(r,{type:"text",value:o,onChange:t=>m(t.target.value),className:"mt-2 mb-4"})]}),e.jsxs("label",{htmlFor:"",children:["Product Price:",e.jsx(r,{type:"number",value:n,onChange:t=>i(Number(t.target.value)),className:"mt-2 mb-4"})]}),e.jsxs("label",{htmlFor:"",children:["Product Category:",e.jsx(r,{type:"text",value:d,onChange:t=>p(t.target.value),className:"mt-2 mb-4"})]}),e.jsxs("label",{htmlFor:"",children:["Stock:",e.jsx(r,{type:"number",value:x,onChange:t=>g(Number(t.target.value)),className:"mt-2 mb-4"})]}),e.jsxs("label",{htmlFor:"",children:["Description:",e.jsx(r,{type:"text",value:h,onChange:t=>b(t.target.value),className:"mt-2 mb-4"})]}),e.jsxs("label",{htmlFor:"",children:["Image URL:",e.jsx(r,{type:"text",value:u,onChange:t=>v(t.target.value),className:"mt-2 mb-4"})]}),e.jsx("button",{type:"submit",disabled:y,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:opacity-50",children:y?"Uploading...":"Add Product"}),c&&e.jsx("p",{className:`mt-4 ${c.type==="error"?"text-red-500":"text-green-500"}`,children:c.text})]})})})}export{k as default};
