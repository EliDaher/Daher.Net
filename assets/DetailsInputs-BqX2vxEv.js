import{r as n,h as x,j as t}from"./index-BBsww-pv.js";import{u as h}from"./wifi-Bic-bmRz.js";function N({customer:a,setCustomer:d}){const[u,l]=n.useState(a),[p,i]=n.useState(!1),b=x(),g=(e,s)=>{d(r=>{const c={...r,[e]:s};return i(JSON.stringify(c)!==JSON.stringify(u)),c})},m=async()=>{try{const e=await h(a.id,a);l(a),b.invalidateQueries({queryKey:["customers-table"]}),i(!1),alert("تم حفظ التعديلات!")}catch(e){console.log(e),alert("حدث خطأ أثناء حفظ التعديلات")}},o=e=>({Name:"الاسم",UserName:"اسم المستخدم",Password:"كلمة السر",Balance:"الرصيد",SubscriptionSpeed:"السرعة",MonthlyFee:"قيمة الاشتراك",Contact:"الهاتف",sender:"المرسل",location:"الموقع",createdAt:"تاريخ الانشاء",address:"IP الراوتر"})[e]||e;return n.useEffect(()=>{l(a)},[a]),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1 w-full",children:[Object.entries(a).map(([e,s])=>e=="id"||e=="items"||e=="_id"||e=="payments"?t.jsx(t.Fragment,{}):e=="createdAt"?t.jsxs("div",{className:"flex gap-2 relative group mb-4 items-end",children:[t.jsxs("label",{className:"block font-bold w-36",children:[o(e),":"]}),t.jsx("input",{type:"text",value:new Date(s).toLocaleString("en-GB"),className:"bg-transparent border-b-2 border-transparent focus:border-primary-500 outline-none transition-all w-full"}),t.jsx("span",{className:"absolute bottom-0 right-0 w-full h-[2px] bg-primary-500 scale-x-0 group-hover:scale-x-100 origin-right transition-transform duration-300"})]},e):t.jsxs("div",{className:"flex gap-2 relative group mb-4 items-end",children:[t.jsxs("label",{className:"block font-bold w-36",children:[o(e),":"]}),t.jsx("input",{disabled:["address"].includes(e),type:"text",value:s,onChange:r=>g(e,r.target.value),className:"bg-transparent border-b-2 border-transparent focus:border-primary-500 outline-none transition-all w-full"}),t.jsx("span",{className:"absolute bottom-0 right-0 w-full h-[2px] bg-primary-500 scale-x-0 group-hover:scale-x-100 origin-right transition-transform duration-300"})]},e)),p&&t.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-accent-500 text-white rounded hover:bg-accent-600 transition-all",children:"حفظ التعديلات"})]})}export{N as D};
