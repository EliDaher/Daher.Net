import{e as y,r as i,f as c,j as s}from"./index-BgjzOHka.js";import{D as f}from"./DataTable-DgfOsqsb.js";import{D as g}from"./DashboardLayout-P3XUXwj6.js";import{g as d}from"./reports-DbDH1HNq.js";import{l as k}from"./index-BLRFddlS.js";import"./card-BeiAbVYm.js";import"./button-BrQsrS7q.js";import"./input-DBlcqyhk.js";import"./house-CzX8uGDh.js";function R(){var l,u;const o=y(),a=i.useRef(null),{data:r}=c({queryKey:["logs-table"],queryFn:d});i.useEffect(()=>{a.current=k("https://paynet-1.onrender.com",{transports:["websocket"]}),a.current.on("createLog",e=>{o.setQueryData(["logs-table"],t=>t?{logs:[e,...t.logs].sort((p,b)=>b.timestamp-p.timestamp)}:{logs:[e]})})},[o]);const m=((u=(l=r==null?void 0:r.logs)==null?void 0:l.slice())==null?void 0:u.sort((e,t)=>t.timestamp-e.timestamp))||[],n=[{key:"id",label:"المعرف",sortable:!0,hidden:!0},{key:"from",label:"من",sortable:!0},{key:"target",label:"الى",sortable:!0},{key:"message",label:"التفاصيل",sortable:!0},{key:"date",label:"التاريخ",sortable:!0},{key:"time",label:"الوقت",sortable:!0},{key:"type",label:"النوع",sortable:!0}];return s.jsx(g,{children:s.jsx("div",{dir:"rtl",children:s.jsx(f,{title:"Logs",data:m,columns:n})})})}export{R as default};
