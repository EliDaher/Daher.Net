import{y as d,r as l,i as p,j as s,C as m,w as c,B as g}from"./index-ChThjnzq.js";async function x({username:o,password:r}){try{return(await d.post("/api/auth/login",{username:o,password:r})).data}catch(a){console.error("خطأ في تسجيل الدخول:",a)}}function h(){const[o,r]=l.useState(""),[a,i]=l.useState(""),n=p(),u=async t=>{t.preventDefault();const e=await x({username:o,password:a});e!=null&&e.message.includes("successful")?(localStorage.setItem("DaherUser",JSON.stringify(e.user)),e.user.role=="employee"?n("/invoices"):n("/dashboard")):(console.log(e),alert((e==null?void 0:e.error)||"فشل تسجيل الدخول"))};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:s.jsxs(m,{className:"p-8 rounded-xl shadow-xl w-full max-w-md space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-center",children:"Login"}),s.jsxs("form",{onSubmit:u,className:"space-y-4",autoComplete:"off",children:[s.jsx(c,{type:"text",placeholder:"Username",value:o,onChange:t=>r(t.target.value),autoComplete:"new-username"}),s.jsx(c,{type:"password",placeholder:"Password",value:a,onChange:t=>i(t.target.value),autoComplete:"new-password"}),s.jsx(g,{type:"submit",className:"w-full",children:"Login"})]})]})})}export{h as default};
