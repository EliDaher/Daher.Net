import{r as a,j as t,D as B,F as l,B as U,J as P}from"./index-D9muoeqs.js";function A(){const[o,m]=a.useState(""),[n,p]=a.useState(0),[i,x]=a.useState(""),[d,g]=a.useState(0),[b,y]=a.useState(""),[c,r]=a.useState(null),[h,v]=a.useState(!1),[u,j]=a.useState(""),C=async e=>{var f,N;if(e.preventDefault(),r(null),!o||!n||!u){r({type:"error",text:"الرجاء تعبئة الاسم والسعر وإضافة رابط الصورة."});return}const D={name:o,price:n,category:i,description:b,imageUrl:u,stock:d};try{v(!0);const S=await P.post("http://localhost:5000/api/product/add",D);r({type:"success",text:"تم رفع المنتج بنجاح!"}),m(""),p(0),x(""),y(""),j(""),g(0)}catch(s){console.error(s);const S=((N=(f=s==null?void 0:s.response)==null?void 0:f.data)==null?void 0:N.message)||s.message||"حصل خطأ أثناء الرفع";r({type:"error",text:S})}finally{v(!1)}};return t.jsx(B,{children:t.jsx("div",{children:t.jsxs("form",{action:"",onSubmit:C,className:"flex flex-col",children:[t.jsx(l,{label:"اسم المنتج",type:"text",value:o,onChange:e=>m(e.target.value),className:"mt-2 mb-4"}),t.jsx(l,{label:"سعر المنتج",type:"text",value:n,onChange:e=>p(Number(e.target.value)),className:"mt-2 mb-4"}),t.jsx(l,{label:"صنف المنتج",type:"text",value:i,onChange:e=>x(e.target.value),className:"mt-2 mb-4"}),t.jsx(l,{label:"الكمية",type:"text",value:d,onChange:e=>g(Number(e.target.value)),className:"mt-2 mb-4"}),t.jsx(l,{label:"الوصف",type:"text",value:b,onChange:e=>y(e.target.value),className:"mt-2 mb-4"}),t.jsx(l,{label:"رابط الصورة",type:"text",value:u,onChange:e=>j(e.target.value),className:"mt-2 mb-4"}),t.jsx(U,{type:"submit",disabled:h,children:h?"Uploading...":"Add Product"}),c&&t.jsx("p",{className:`mt-4 ${c.type==="error"?"text-red-500":"text-green-500"}`,children:c.text})]})})})}export{A as default};
