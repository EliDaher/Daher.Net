import{h as y,r as i,i as c,j as s}from"./index-BDdD0U4n.js";import{D as g}from"./DataTable-e2tcXuVr.js";import{D as d}from"./DashboardLayout-Jf3qepeK.js";import{g as f}from"./reports-DDVF2P7u.js";import{l as k}from"./index-BLRFddlS.js";import"./card-VQfqbli1.js";import"./button-CkfK7Vl1.js";import"./input-cM0YjS2-.js";import"./house-ki08jCTb.js";function R(){var l,u;const o=y(),a=i.useRef(null),{data:r}=c({queryKey:["logs-table"],queryFn:f});i.useEffect(()=>{a.current=k("https://paynet-1.onrender.com",{transports:["websocket"]}),a.current.on("createLog",e=>{o.setQueryData(["logs-table"],t=>t?{logs:[e,...t.logs].sort((p,b)=>b.timestamp-p.timestamp)}:{logs:[e]})})},[o]);const m=((u=(l=r==null?void 0:r.logs)==null?void 0:l.slice())==null?void 0:u.sort((e,t)=>t.timestamp-e.timestamp))||[],n=[{key:"id",label:"المعرف",sortable:!0,hidden:!0},{key:"from",label:"من",sortable:!0},{key:"target",label:"الى",sortable:!0},{key:"message",label:"التفاصيل",sortable:!0},{key:"date",label:"التاريخ",sortable:!0},{key:"time",label:"الوقت",sortable:!0},{key:"type",label:"النوع",sortable:!0}];return s.jsx(d,{children:s.jsx("div",{dir:"rtl",children:s.jsx(g,{title:"Logs",data:m,columns:n})})})}export{R as default};
