import{r as a,j as t,D as A,F as s,B as E,J as F}from"./index-DhVkjEq1.js";function M(){const[o,g]=a.useState(""),[n,d]=a.useState(0),[c,b]=a.useState(0),[u,y]=a.useState(0),[m,v]=a.useState(""),[p,h]=a.useState(0),[j,N]=a.useState(""),[i,r]=a.useState(null),[S,f]=a.useState(!1),[x,C]=a.useState(""),U=async e=>{var D,P;if(e.preventDefault(),r(null),!o||!n||!x||!m||!p||!c||!u){r({type:"error",text:"الرجاء تعبئة الاسم والسعر وإضافة رابط الصورة."});return}const k={name:o,price:n,category:m,description:j,imageUrl:x,stock:p,priceCost:c,priceWolesale:u};try{f(!0);const B=await F.post("https://paynet-1.onrender.com/api/product/add",k);r({type:"success",text:"تم رفع المنتج بنجاح!"}),g(""),d(0),v(""),N(""),C(""),h(0),b(0),y(0)}catch(l){console.error(l);const B=((P=(D=l==null?void 0:l.response)==null?void 0:D.data)==null?void 0:P.message)||l.message||"حصل خطأ أثناء الرفع";r({type:"error",text:B})}finally{f(!1)}};return t.jsx(A,{children:t.jsx("div",{children:t.jsxs("form",{action:"",onSubmit:U,className:"flex flex-col",children:[t.jsx(s,{label:"اسم المنتج",type:"text",value:o,onChange:e=>g(e.target.value),className:"mt-2 mb-4"}),t.jsx(s,{label:"سعر المنتج",type:"text",value:n,onChange:e=>d(Number(e.target.value)),className:"mt-2 mb-4"}),t.jsx(s,{label:"سعر التكلفة",type:"text",value:c,onChange:e=>b(Number(e.target.value)),className:"mt-2 mb-4"}),t.jsx(s,{label:"سعر الجملة",type:"text",value:u,onChange:e=>y(Number(e.target.value)),className:"mt-2 mb-4"}),t.jsx(s,{label:"صنف المنتج",type:"text",value:m,onChange:e=>v(e.target.value),className:"mt-2 mb-4"}),t.jsx(s,{label:"الكمية",type:"text",value:p,onChange:e=>h(Number(e.target.value)),className:"mt-2 mb-4"}),t.jsx(s,{label:"الوصف",type:"text",value:j,onChange:e=>N(e.target.value),className:"mt-2 mb-4"}),t.jsx(s,{label:"رابط الصورة",type:"text",value:x,onChange:e=>C(e.target.value),className:"mt-2 mb-4"}),t.jsx(E,{type:"submit",disabled:S,children:S?"Uploading...":"Add Product"}),i&&t.jsx("p",{className:`mt-4 ${i.type==="error"?"text-red-500":"text-green-500"}`,children:i.text})]})})})}export{M as default};
