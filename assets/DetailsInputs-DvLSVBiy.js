import{h as g,r as l,j as t}from"./index-BDdD0U4n.js";import{u as m}from"./wifi-oUSI_Hao.js";function j({customer:a,setCustomer:c}){const u=g(),s=l.useRef(null),[p,i]=l.useState(!1);l.useEffect(()=>{a&&!s.current&&(s.current=a)},[a]);const b=(e,r)=>{c(n=>{const d={...n,[e]:r};return i(JSON.stringify(d)!==JSON.stringify(s.current)),d})},f=async()=>{try{const e=a.id||a._id;if(!e)return;await m(e,a),s.current=a,i(!1),u.invalidateQueries({queryKey:["customers-table"]}),alert("تم حفظ التعديلات!")}catch(e){console.error(e),alert("حدث خطأ أثناء حفظ التعديلات")}},o=e=>({Name:"الاسم",UserName:"اسم المستخدم",Password:"كلمة السر",Balance:"الرصيد",SubscriptionSpeed:"السرعة",MonthlyFee:"قيمة الاشتراك",Contact:"الهاتف",sender:"المرسل",location:"الموقع",createdAt:"تاريخ الإنشاء",address:"IP الراوتر"})[e]||e;return a?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1 w-full",children:[Object.entries(a).map(([e,r])=>e==="id"||e==="_id"||e==="items"||e==="payments"?null:e==="createdAt"?t.jsxs("div",{className:"flex gap-2 relative group mb-4 items-end",children:[t.jsxs("label",{className:"block font-bold w-36",children:[o(e),":"]}),t.jsx("input",{type:"text",value:new Date(r).toLocaleString("en-GB"),disabled:!0,className:"bg-transparent border-b-2 border-transparent w-full"})]},e):t.jsxs("div",{className:"flex gap-2 relative group mb-4 items-end",children:[t.jsxs("label",{className:"block font-bold w-36",children:[o(e),":"]}),t.jsx("input",{type:"text",disabled:e==="address",value:r??"",onChange:n=>b(e,n.target.value),className:"bg-transparent border-b-2 border-transparent focus:border-primary-500 outline-none transition-all w-full"}),t.jsx("span",{className:"absolute bottom-0 right-0 w-full h-[2px] bg-primary-500 scale-x-0 group-hover:scale-x-100 origin-right transition-transform duration-300"})]},e)),p&&t.jsx("div",{className:"col-span-full flex justify-end mt-4",children:t.jsx("button",{onClick:f,className:"w-full px-6 py-2 bg-accent-500 text-white rounded hover:bg-accent-600 transition-all",children:"حفظ التعديلات"})})]}):null}export{j as D};
