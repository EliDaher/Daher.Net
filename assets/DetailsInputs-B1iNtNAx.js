import{e as m,r as l,j as t,J as d}from"./index-BgjzOHka.js";import{u as x}from"./wifi-C3D413KV.js";function N({customer:s,setCustomer:u}){const p=m(),r=l.useRef(null),[b,i]=l.useState(!1);l.useEffect(()=>{s&&!r.current&&(r.current=s)},[s]);const f=(e,a)=>{u(n=>{const c={...n,[e]:a};return i(JSON.stringify(c)!==JSON.stringify(r.current)),c})},g=async()=>{try{const e=s.id||s._id;if(!e)return;await x(e,s),r.current=s,i(!1),p.invalidateQueries({queryKey:["customers-table"]}),d.success("تم حفظ التعديلات!")}catch(e){console.error(e),d.error("حدث خطأ أثناء حفظ التعديلات")}},o=e=>({Name:"الاسم",UserName:"اسم المستخدم",Password:"كلمة السر",Balance:"الرصيد",SubscriptionSpeed:"السرعة",MonthlyFee:"قيمة الاشتراك",Contact:"الهاتف",sender:"المرسل",location:"الموقع",createdAt:"تاريخ الإنشاء",address:"IP الراوتر"})[e]||e;return s?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1 w-full",children:[Object.entries(s).map(([e,a])=>e==="id"||e==="_id"||e==="items"||e==="payments"?null:e==="createdAt"?t.jsxs("div",{className:"flex gap-2 relative group mb-4 items-end",children:[t.jsxs("label",{className:"block font-bold w-36",children:[o(e),":"]}),t.jsx("input",{type:"text",value:new Date(a).toLocaleString("en-GB"),disabled:!0,className:"bg-transparent border-b-2 border-transparent w-full"})]},e):t.jsxs("div",{className:"flex gap-2 relative group mb-4 items-end",children:[t.jsxs("label",{className:"block font-bold w-36",children:[o(e),":"]}),t.jsx("input",{type:"text",disabled:e==="address",value:a??"",onChange:n=>f(e,n.target.value),className:"bg-transparent border-b-2 border-transparent focus:border-primary-500 outline-none transition-all w-full"}),t.jsx("span",{className:"absolute bottom-0 right-0 w-full h-[2px] bg-primary-500 scale-x-0 group-hover:scale-x-100 origin-right transition-transform duration-300"})]},e)),b&&t.jsx("div",{className:"col-span-full flex justify-end mt-4",children:t.jsx("button",{onClick:g,className:"w-full px-6 py-2 bg-accent-500 text-white rounded hover:bg-accent-600 transition-all",children:"حفظ التعديلات"})})]}):null}export{N as D};
