import{k as c,r as n,l as p,j as r,D as g,p as d}from"./index-Bipx9DSv.js";import{g as f}from"./reports-LjUJiuFD.js";import{l as k}from"./index-BLRFddlS.js";function q(){var l,u;const o=c(),a=n.useRef(null),{data:s}=p({queryKey:["logs-table"],queryFn:f});n.useEffect(()=>{a.current=k("https://paynet-1.onrender.com",{transports:["websocket"]}),a.current.on("createLog",e=>{o.setQueryData(["logs-table"],t=>t?{logs:[e,...t.logs].sort((b,y)=>y.timestamp-b.timestamp)}:{logs:[e]})})},[o]);const i=((u=(l=s==null?void 0:s.logs)==null?void 0:l.slice())==null?void 0:u.sort((e,t)=>t.timestamp-e.timestamp))||[],m=[{key:"id",label:"المعرف",sortable:!0,hidden:!0},{key:"from",label:"من",sortable:!0},{key:"target",label:"الى",sortable:!0},{key:"message",label:"التفاصيل",sortable:!0},{key:"date",label:"التاريخ",sortable:!0},{key:"time",label:"الوقت",sortable:!0},{key:"type",label:"النوع",sortable:!0}];return r.jsx(g,{children:r.jsx("div",{dir:"rtl",children:r.jsx(d,{title:"Logs",data:i,columns:m})})})}export{q as default};
